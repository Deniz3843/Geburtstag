<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday ...! üéâ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
            height: 100vh;
            touch-action: manipulation;
            background: linear-gradient(135deg, #fbbf24, #fb923c, #f472b6);
        }

        #app {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        #content {
            position: relative;
            z-index: 10;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .step {
            position: absolute;
            width: 100%;
            max-width: 800px;
            padding: 20px;
            margin: 10px;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            pointer-events: none;
            max-height: 90vh;
            overflow-y: auto;
        }

        @media (max-width: 768px) {
            .step {
                padding: 15px;
                margin: 5px;
                max-height: 85vh;
            }
        }

        .step.active {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }

        .btn {
            background: linear-gradient(135deg, #f59e0b, #ec4899);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
            transition: all 0.3s ease;
            font-size: 16px;
            touch-action: manipulation;
        }

        @media (max-width: 768px) {
            .btn {
                padding: 10px 20px;
                font-size: 14px;
                margin-top: 15px;
            }
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .text-gradient {
            background: linear-gradient(135deg, #f59e0b, #ec4899, #8b5cf6);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .bounce {
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .emoji {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: inline-block;
        }

        @media (max-width: 768px) {
            .emoji {
                font-size: 2rem;
                margin-bottom: 10px;
            }
        }

        .reason-card {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .reason-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 768px) {
            .reason-card {
                padding: 12px;
                margin: 5px 0;
            }
            
            .reason-card .emoji {
                font-size: 1.8rem;
            }
        }

        #progress-container {
            position: fixed;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: 85%;
            max-width: 400px;
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
            z-index: 100;
        }

        @media (max-width: 768px) {
            #progress-container {
                width: 90%;
                top: 10px;
                height: 5px;
            }
        }

        #progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #f59e0b, #ec4899);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
    </style>
</head>

<body>
    <div id="app">
        <div id="canvas-container"></div>

        <div id="progress-container">
            <div id="progress-bar"></div>
        </div>

        <div id="content">
            <!-- Step 1: Initial Reveal -->
            <div class="step active" id="step1">
                <div class="emoji bounce">üéâ</div>
                <h1 class="text-4xl md:text-5xl font-bold mb-6 text-gradient">Hey ...!</h1>
                <p class="text-lg md:text-xl text-gray-700 mb-8">Ich habe etwas Besonderes f√ºr dich vorbereitet...</p>
                <button class="btn" id="start-btn">Los geht's!</button>
            </div>

            <!-- Step 2: Birthday Message -->
            <div class="step" id="step2">
                <div class="emoji">üéÇ</div>
                <h2 class="text-2xl md:text-4xl font-bold mb-6 text-gradient">Alles Gute zum Geburtstag!</h2>
                <p class="text-base md:text-lg text-gray-700 mb-6">
                    Heute ist dein besonderer Tag! Ich wollte dir einfach mal sagen, wie cool es ist, dich als Freundin zu haben. 
                    Du bringst so viel Energie und gute Laune in mein Leben - danke, dass es dich gibt! üåü
                </p>
                <button class="btn" id="next-btn-2">Warum du gro√üartig bist</button>
            </div>

            <!-- Step 3: Reasons You're Amazing -->
            <div class="step" id="step3">
                <h2 class="text-2xl md:text-4xl font-bold mb-6 md:mb-8 text-gradient">Das sch√§tze ich an dir</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                    <div class="reason-card">
                        <div class="emoji text-2xl md:text-3xl">üí™</div>
                        <h3 class="text-lg md:text-xl font-bold mb-2 text-amber-600">Deine St√§rke</h3>
                        <p class="text-sm md:text-base text-gray-700">Du packst jede Herausforderung an und gibst nie auf. Das bewundere ich wirklich!</p>
                    </div>
                    <div class="reason-card">
                        <div class="emoji text-2xl md:text-3xl">üòÑ</div>
                        <h3 class="text-lg md:text-xl font-bold mb-2 text-amber-600">Dein Humor</h3>
                        <p class="text-sm md:text-base text-gray-700">Mit dir ist es nie langweilig! Du bringst mich immer zum Lachen.</p>
                    </div>
                    <div class="reason-card">
                        <div class="emoji text-2xl md:text-3xl">üåà</div>
                        <h3 class="text-lg md:text-xl font-bold mb-2 text-amber-600">Deine Art</h3>
                        <p class="text-sm md:text-base text-gray-700">Du bist einfach du selbst und das ist das Beste an dir!</p>
                    </div>
                </div>
                <button class="btn" id="next-btn-3">Eine kleine √úberraschung</button>
            </div>

            <!-- Step 4: Memory Lane -->
            <div class="step" id="step4">
                <div class="emoji">üì∏</div>
                <h2 class="text-2xl md:text-4xl font-bold mb-6 text-gradient">Erinnerungen...</h2>
                <div class="bg-gradient-to-r from-amber-200 to-pink-200 rounded-xl p-4 md:p-6 mb-6 md:mb-8">
                    <img src="personen.avif" alt="Gemeinsame Erinnerung" class="w-full max-w-md mx-auto rounded-lg shadow-lg" style="max-height: 400px; object-fit: cover;">
                </div>
                <p class="text-base md:text-lg text-gray-700 mb-6">
                    Ob wir zusammen Quatsch machen, uns stundenlang unterhalten oder einfach abh√§ngen - 
                    mit dir macht alles mehr Spa√ü! Danke f√ºr all die tollen Momente!
                </p>
                <button class="btn" id="next-btn-4">Fast fertig...</button>
            </div>

            <!-- Step 5: Final Wish -->
            <div class="step" id="step5">
                <div class="emoji">üéÅ</div>
                <h2 class="text-2xl md:text-4xl font-bold mb-6 text-gradient">Mein Wunsch f√ºr dich</h2>
                <p class="text-base md:text-lg text-gray-700 mb-6 md:mb-8">
                    Ich w√ºnsche dir ein Jahr voller Abenteuer, Erfolg in allem was du anpackst, 
                    ganz viel Spa√ü und dass all deine Tr√§ume in Erf√ºllung gehen! 
                    Du hast es verdient, dass dieses Jahr richtig gro√üartig wird!
                </p>
                <p class="text-lg md:text-xl font-semibold text-amber-600 mb-6 md:mb-8">
                    Happy Birthday, ...! üéâüéäüéà
                </p>
                <button class="btn" id="confetti-btn">Party Time! ü•≥</button>
                <p class="mt-8 text-gray-500">Mit besten Gr√º√üen ‚ú®</p>
            </div>
        </div>
    </div>

    <script>
        // Three.js Star/Sparkle Background
        const container = document.getElementById('canvas-container');
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        container.appendChild(renderer.domElement);

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 30;

        // Create stars instead of hearts
        const stars = [];
        const colors = [
            0xfbbf24, 0xfb923c, 0xf472b6, 0xa78bfa,
            0xfde047, 0xfcd34d, 0xfbbf24, 0xf59e0b
        ];

        // Star geometry
        function createStarGeometry() {
            const starShape = new THREE.Shape();
            const outerRadius = 1;
            const innerRadius = 0.4;
            const points = 5;

            for (let i = 0; i < points * 2; i++) {
                const angle = (i * Math.PI) / points;
                const radius = i % 2 === 0 ? outerRadius : innerRadius;
                const x = Math.cos(angle) * radius;
                const y = Math.sin(angle) * radius;
                
                if (i === 0) {
                    starShape.moveTo(x, y);
                } else {
                    starShape.lineTo(x, y);
                }
            }
            starShape.closePath();

            const extrudeSettings = {
                depth: 0.3,
                bevelEnabled: true,
                bevelSegments: 2,
                bevelSize: 0.1,
                bevelThickness: 0.1
            };

            return new THREE.ExtrudeGeometry(starShape, extrudeSettings);
        }

        const starGeometry = createStarGeometry();

        for (let i = 0; i < 30; i++) {
            const material = new THREE.MeshPhongMaterial({
                color: colors[Math.floor(Math.random() * colors.length)],
                emissive: 0xfbbf24,
                emissiveIntensity: 0.2,
                shininess: 100,
                transparent: true,
                opacity: 0.9
            });

            const star = new THREE.Mesh(starGeometry, material);

            star.position.x = (Math.random() - 0.5) * 50;
            star.position.y = (Math.random() - 0.5) * 50;
            star.position.z = (Math.random() - 0.5) * 50;

            const scale = Math.random() * 0.6 + 0.4;
            star.scale.set(scale, scale, scale);

            star.rotation.x = Math.random() * Math.PI;
            star.rotation.y = Math.random() * Math.PI;
            star.rotation.z = Math.random() * Math.PI;

            star.userData = {
                speedX: Math.random() * 0.02 - 0.01,
                speedY: Math.random() * 0.02 - 0.01,
                speedZ: Math.random() * 0.02 - 0.01,
                rotationSpeedX: Math.random() * 0.01,
                rotationSpeedY: Math.random() * 0.01,
                rotationSpeedZ: Math.random() * 0.01,
                originalX: star.position.x,
                originalY: star.position.y,
                originalZ: star.position.z,
                floatDistance: 2 + Math.random() * 3
            };

            scene.add(star);
            stars.push(star);
        }

        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);

        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight.position.set(1, 1, 1);
        scene.add(directionalLight);

        function animate() {
            requestAnimationFrame(animate);

            stars.forEach(star => {
                const time = Date.now() * 0.001;
                star.position.x = star.userData.originalX + Math.sin(time * star.userData.speedX * 10) * star.userData.floatDistance;
                star.position.y = star.userData.originalY + Math.sin(time * star.userData.speedY * 10) * star.userData.floatDistance;
                star.position.z = star.userData.originalZ + Math.sin(time * star.userData.speedZ * 10) * star.userData.floatDistance;

                star.rotation.x += star.userData.rotationSpeedX;
                star.rotation.y += star.userData.rotationSpeedY;
                star.rotation.z += star.userData.rotationSpeedZ;
            });

            renderer.render(scene, camera);
        }

        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        let currentStep = 1;
        const totalSteps = 5;

        function updateProgressBar() {
            const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }

        function showStep(stepNumber) {
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active');
            });

            document.getElementById(`step${stepNumber}`).classList.add('active');
            updateProgressBar();

            if (stepNumber === totalSteps) {
                document.getElementById('confetti-btn').classList.add('animate-pulse');
            }
        }

        document.getElementById('start-btn').addEventListener('click', () => {
            currentStep = 2;
            showStep(currentStep);
        });

        document.getElementById('next-btn-2').addEventListener('click', () => {
            currentStep = 3;
            showStep(currentStep);
        });

        document.getElementById('next-btn-3').addEventListener('click', () => {
            currentStep = 4;
            showStep(currentStep);
        });

        document.getElementById('next-btn-4').addEventListener('click', () => {
            currentStep = 5;
            showStep(currentStep);
        });

        document.getElementById('confetti-btn').addEventListener('click', () => {
            confetti({
                particleCount: 150,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#fbbf24', '#fb923c', '#f472b6', '#a78bfa']
            });

            setTimeout(() => {
                confetti({
                    particleCount: 30,
                    spread: 60,
                    origin: { y: 0.5 },
                    shapes: ['star'],
                    colors: ['#fbbf24', '#fb923c']
                });
            }, 300);

            setTimeout(() => {
                confetti({
                    particleCount: 20,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#fbbf24', '#f472b6']
                });

                confetti({
                    particleCount: 20,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#fb923c', '#a78bfa']
                });
            }, 600);

            stars.forEach(star => {
                gsap.to(star.position, {
                    y: star.position.y - 30,
                    duration: 3,
                    ease: "power1.out"
                });

                gsap.to(star.material, {
                    opacity: 0,
                    duration: 3,
                    ease: "power1.out"
                });
            });
        });

        updateProgressBar();
    </script>
</body>

</html>